<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Web OTP</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
    @keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.8;transform:scale(1.02)}}
    @keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
    @keyframes glow{0%,100%{filter:drop-shadow(0 0 8px rgba(59,130,246,.5))}50%{filter:drop-shadow(0 0 16px rgba(59,130,246,.8))}}
    @keyframes slideIn{from{opacity:0;transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}
    @keyframes bounce{0%,100%{transform:scale(1) translateZ(0)}50%{transform:scale(1.05) translateZ(0)}}
    @keyframes colorShift{0%{filter:hue-rotate(0deg)}50%{filter:hue-rotate(20deg)}100%{filter:hue-rotate(0deg)}}
    @keyframes loadingDots{0%,80%,100%{opacity:.3}40%{opacity:1}}
    *{box-sizing:border-box}
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0;background:linear-gradient(135deg,#0a0e27 0%,#1a1f3a 100%);color:#e6eef8;min-height:100vh}
    header{background:rgba(15,23,42,.85);backdrop-filter:blur(10px);border-bottom:1px solid rgba(100,116,139,.2);padding:16px 20px;position:sticky;top:0;z-index:100}
    footer{padding:16px 20px;opacity:.5}
    a{color:#60a5fa;text-decoration:none;transition:color .2s}
    a:hover{color:#93c5fd}
    .container{max-width:1100px;margin:0 auto;padding:32px 24px}
    .card{background:rgba(15,23,42,.6);backdrop-filter:blur(20px);border:1px solid rgba(100,116,139,.2);border-radius:20px;padding:28px;margin-bottom:20px;box-shadow:0 8px 32px rgba(0,0,0,.3);animation:slideIn .6s ease-out;transition:transform .3s,box-shadow .3s,border-color .3s;width:100%;box-sizing:border-box;position:relative;overflow:visible}
    .card:hover{transform:translateY(-4px);box-shadow:0 12px 48px rgba(59,130,246,.2);border-color:rgba(59,130,246,.3)}
    .btn{background:linear-gradient(135deg,#3b82f6 0%,#2563eb 100%);color:#fff;border:0;border-radius:12px;padding:12px 20px;font-weight:600;cursor:pointer;transition:all .3s;box-shadow:0 4px 12px rgba(59,130,246,.3);font-size:14px}
    .btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(59,130,246,.5)}
    .btn:active{transform:translateY(0)}
    .btn.secondary{background:linear-gradient(135deg,#475569 0%,#334155 100%);box-shadow:0 4px 12px rgba(71,85,105,.3)}
    .btn.copy{background:linear-gradient(135deg,#10b981 0%,#059669 100%);box-shadow:0 4px 12px rgba(16,185,129,.3);padding:10px 24px;font-size:15px}
    .btn.copy:hover{box-shadow:0 6px 20px rgba(16,185,129,.5)}
    .btn-delete{background:rgba(239,68,68,.1);border:1px solid rgba(239,68,68,.3);color:#ef4444;border-radius:8px;padding:8px;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;width:36px;height:36px;flex-shrink:0}
    .btn-delete:hover{background:rgba(239,68,68,.2);border-color:#ef4444;transform:scale(1.1);box-shadow:0 4px 12px rgba(239,68,68,.4)}
    .btn-delete:active{transform:scale(0.95)}
    .btn-delete svg{width:20px;height:20px}
    input{background:rgba(11,18,32,.8);border:1px solid rgba(100,116,139,.3);color:#e6eef8;border-radius:12px;padding:12px;width:100%;transition:border-color .3s,box-shadow .3s}
    input:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px rgba(59,130,246,.1)}
    label{font-weight:600;font-size:14px;margin-bottom:8px;display:block;color:#cbd5e1}
    .grid{display:grid;gap:20px}
    @media(min-width:768px){.grid.cols-2{grid-template-columns:repeat(2,1fr)}}
    .row{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
    .code-display{display:flex;align-items:center;justify-content:center;gap:20px;margin-top:20px;padding:24px;background:rgba(30,41,59,.6);border-radius:16px;border:1px solid rgba(100,116,139,.2);width:100%;box-sizing:border-box;position:relative;overflow:visible}
    .code{font-size:48px;letter-spacing:8px;font-weight:800;color:#60a5fa;font-family:'Courier New',monospace;animation:pulse 1.5s ease-in-out infinite;text-shadow:0 0 20px rgba(96,165,250,.5);flex:1 1 auto;min-width:300px;max-width:none;text-align:center;transition:transform .2s ease-out;display:block;margin:0;padding:0;will-change:auto;transform-origin:center center;position:relative;box-sizing:border-box;overflow:visible;white-space:nowrap}
    .code.updating{animation:bounce .3s ease-out;transform-origin:center center}
    .loading-dots{font-size:18px;color:#64748b;animation:loadingDots 1.4s infinite}
    .timer-circle{position:relative;width:80px;height:80px}
    .timer-circle svg{transform:rotate(-90deg)}
    .timer-circle .timer-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)!important;font-size:20px;font-weight:700;color:#60a5fa;text-align:center;width:100%;line-height:1;display:flex;align-items:center;justify-content:center;margin:0;padding:0}
    .pill{font-size:13px;background:rgba(59,130,246,.15);border:1px solid rgba(59,130,246,.3);border-radius:999px;padding:6px 14px;color:#93c5fd;font-weight:500}
    .issuer{font-size:22px;font-weight:700;background:linear-gradient(135deg,#e0e7ff 0%,#c7d2fe 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:4px}
    .account{font-size:14px;color:#94a3b8;margin-top:4px}
    .algo-info{font-size:12px;color:#64748b;margin-top:8px}
    .muted{color:#94a3b8}
    .right{margin-left:auto}
    .header-title{font-size:20px;font-weight:700;background:linear-gradient(135deg,#60a5fa 0%,#a78bfa 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .page-title{font-size:32px;font-weight:800;margin:0 0 24px 0;background:linear-gradient(135deg,#e0e7ff 0%,#c7d2fe 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
    .empty-state{text-align:center;padding:60px 20px;color:#94a3b8}
    .empty-state svg{width:80px;height:80px;margin-bottom:20px;opacity:.5}
    
    /* =========================================== */
    /* üé® ANIMATIONS ULTRA FLUIDES */
    /* =========================================== */
    
    @keyframes bounce {
      0%, 20%, 53%, 80%, 100% {
        transform: translate3d(0,0,0);
      }
      40%, 43% {
        transform: translate3d(0, -8px, 0);
      }
      70% {
        transform: translate3d(0, -4px, 0);
      }
      90% {
        transform: translate3d(0, -2px, 0);
      }
    }
    
    /* @keyframes pulse {
      0% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
      }
      50% {
        transform: translate(-50%, -50%) scale(1.05);
        opacity: 0.8;
      }
      100% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
      }
    } */
    
    @keyframes glow {
      0% {
        box-shadow: 0 0 5px rgba(59, 130, 246, 0.5);
      }
      50% {
        box-shadow: 0 0 20px rgba(59, 130, 246, 0.8), 0 0 30px rgba(59, 130, 246, 0.6);
      }
      100% {
        box-shadow: 0 0 5px rgba(59, 130, 246, 0.5);
      }
    }
    
    @keyframes slideIn {
      from {
        transform: translateY(-10px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes scaleIn {
      from {
        transform: scale(0.9);
        opacity: 0;
      }
      to {
        transform: scale(1);
        opacity: 1;
      }
    }
    
    @keyframes colorShift {
      0% { color: #60a5fa; }
      50% { color: #10b981; }
      100% { color: #60a5fa; }
    }
    
    /* =========================================== */
    /* üéØ CLASSES D'ANIMATION */
    /* =========================================== */
    
    .bounce { animation: bounce 0.6s ease-out; }
    .pulse { animation: pulse 0.3s ease-out; }
    .glow { animation: glow 0.5s ease-out; }
    .slide-in { animation: slideIn 0.3s ease-out; }
    .fade-in { animation: fadeIn 0.3s ease-out; }
    .scale-in { animation: scaleIn 0.3s ease-out; }
    .color-shift { animation: colorShift 0.5s ease-out; }
    
    /* =========================================== */
    /* ‚ö° TRANSITIONS FLUIDES */
    /* =========================================== */
    
    .code {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .card {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .btn {
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .timer-text {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    /* =========================================== */
    /* üé® EFFETS VISUELS AVANC√âS */
    /* =========================================== */
    
    .code.updating {
      animation: bounce 0.6s ease-out;
    }
    
    .card.updating {
      animation: glow 0.5s ease-out;
    }
    
    .timer-text.urgent {
      animation: pulse 0.5s infinite;
      color: #ef4444 !important;
      transform: translate(-50%, -50%) !important;
    }
    
    .timer-text.warning {
      color: #f59e0b !important;
      transform: translate(-50%, -50%) !important;
    }
    
    .timer-text.normal {
      color: #60a5fa !important;
      transform: translate(-50%, -50%) !important;
    }
  </style>
</head>
<body>
<header>
  <div class="container row">
    <div class="header-title">üîê Web OTP</div>
    <nav class="right"><a href="/">Dashboard</a> ¬∑ <a href="/import">Importer</a> ¬∑ <a href="/logout">Logout</a></nav>
  </div>
</header>
<main>
  <div class="container">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for cat, msg in messages %}
          <div class="card" style="border-color:#334155">{{ msg }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}
    {% block content %}{% endblock %}
  </div>
</main>
<footer>
  <div class="container muted">&copy; 2025 Web OTP</div>
</footer>
<script src="/static/app.js"></script>
</body>
</html>

